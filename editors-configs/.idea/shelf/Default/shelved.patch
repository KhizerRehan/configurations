Index: src/app/oauth/components/apps/new-client/client.component.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><div class=\"container clearfix mxn2\">\n  <div class=\"col-12 px2 mx-auto\">\n    <form ngNativeValidate name=\"mainForm\" id=\"mainForm\">\n      <div class=\"dashboard-main-panel\">\n        <app-spinner [isActive]=\"isBusyCounter > 0\"></app-spinner>\n        <div class=\"action-toolbar clearfix py2\">\n          <div class=\"action-toolbar-title\">\n            <h1 class=\"m0\">\n              <i class=\"icon ion-cube inlineicon\"></i>\n              Edit Client\n            </h1>\n          </div>\n          <div class=\"action-toolbar-actions\">\n            <download-config-button [path]=\"url\"></download-config-button>\n            <button class=\"button button-tiny button-primary-outline\"\n                    type=\"button\"\n                    aria-label=\"Duplicate Client\"\n                    title=\"Duplicate Client\"\n                    (click)=\"onDuplicateClient()\">\n              <i class=\"icon ion-ios-browsers inlineicon\"></i>Duplicate Client\n            </button>\n          </div>\n        </div>\n\n        <div class=\"sm-col sm-col-12\">\n          <element-error [error]=\"error\"></element-error>\n        </div>\n\n        <div class=\"page-nav\">\n          <div class=\"flex\">\n            <nav class=\"list-reset m0 flex justify-between\">\n              <li class=\"flex-auto\">\n                <a [ngClass]=\"{'active': activeNavItem === 'name-and-description'}\" href=\"javascript:void(0);\"\n                   (click)=\"scrollToAnchor(nameAndDescriptionSection, 'name-and-description')\"><i\n                        class=\"icon ion-gear-b inlineicon\"></i>General</a>\n              </li>\n              <li class=\"flex-auto\">\n                <a [ngClass]=\"{'active': activeNavItem === 'capabilities'}\" href=\"javascript:void(0);\"\n                   (click)=\"scrollToAnchor(capabilitiesSection, 'capabilities')\"><i\n                        class=\"icon ion-android-expand inlineicon\"></i>Capabilities</a>\n              </li>\n              <li class=\"flex-auto\">\n                <a [ngClass]=\"{'active': activeNavItem === 'oauth-openid'}\" href=\"javascript:void(0);\"\n                   (click)=\"scrollToAnchor(oAuthOpenIdSection, 'oauth-openid')\"><i\n                        class=\"icon ion-android-laptop inlineicon\"></i>OAuth/OpenID Settings</a>\n              </li>\n              <li class=\"flex-auto\" *ngIf=\"capabilitiesSelectedCount > 0\">\n                <a [ngClass]=\"{'active': activeNavItem === 'client-application-settings'}\" href=\"javascript:void(0);\"\n                   (click)=\"scrollToAnchor(clientApplicationSettingsSection, 'client-application-settings')\"><i\n                        class=\"icon ion-gear-b inlineicon\"></i>Client Application Settings</a>\n              </li>\n              <li class=\"flex-auto\" *ngIf=\"showUserAuthenticator\">\n                <a [ngClass]=\"{'active': activeNavItem === 'user-authentication'}\" href=\"javascript:void(0);\"\n                   (click)=\"scrollToAnchor(userAuthenticationSection, 'user-authentication')\"><i\n                        class=\"icon ion-person-stalker inlineicon\"></i>User Authentication</a>\n              </li>\n            </nav>\n          </div>\n        </div>\n\n        <div class=\"flex flex-center justify-between mt3\">\n          <div class=\"flex-auto\">\n            <h1 class=\"mt0 flex flex-center\">{{clientName}}\n              <span *ngIf=\"result['dynamic-client-registration-template']?.value\"\n                    class=\"block button button-tiny button-warning-outline ml2\">Template Client</span>\n            </h1>\n          </div>\n          <div class=\"\">\n            <element-checkbox [data]=\"result['enabled']\" [isValueProvided]=\"true\"></element-checkbox>\n          </div>\n        </div>\n\n        <div>\n          <div #nameAndDescriptionSection id=\"name-and-description\" class=\"page-well mt2 mb2\"\n               [ngClass]=\"{'collapsed': panelOptions.isNamePanelCollapsed}\">\n            <div class=\"page-well-topbar\"\n                 (click)=\"panelOptions.isNamePanelCollapsed = !panelOptions.isNamePanelCollapsed\">\n              <div class=\"flex flex-justify\">\n                <div class=\"flex-auto\">\n                  <span class=\"page-well-topbar-title\"><i\n                          class=\"icon ion-gear-b inlineicon\"></i>General</span>\n                </div>\n                <div class=\"\"></div>\n                <button class=\"button button-transparent button-tiny button-fold\">\n                  <i class=\"icon ion-ios-arrow-{{panelOptions.isNamePanelCollapsed ? 'down' : 'up'}}\"></i>\n                </button>\n              </div>\n            </div>\n\n            <h2 class=\"mb2 h3\"><i class=\"icon ion-gear-b inlineicon\"></i>General</h2>\n            <div class=\"clearfix mxn2\">\n              <div class=\"sm-col md-col-4 px2\">\n                <element [data]=\"result['client-name']\" [isValueProvided]=\"true\"></element>\n                <div class=\"col col-12 mt1\">\n                  <element-richtext [data]=\"result['description']\" [rows]=\"4\"\n                                    [isValueProvided]=\"true\"></element-richtext>\n                </div>\n              </div>\n              <div class=\"sm-col md-col-4 px2\" *ngIf=\"isClientAuthenticationVisible\">\n                <app-element-single-select-v2 [data]=\"result['verifier']\"\n                                              [edit]=\"true\"\n                                              [allowClear]=\"false\"\n                                              [isChoice]=\"true\"\n                                              [canUpdate]=\"false\"></app-element-single-select-v2>\n\n                <div class=\"mt2\" *ngIf=\"result['verifier']?.value === 'secret'\">\n                  <element-password [numberOfCharacters]=\"64\"\n                                    [data]=\"result['secret']\"\n                                    [clearValueOnDestroy]=\"true\"></element-password>\n                </div>\n                <div class=\"mt2\" *ngIf=\"result['verifier']?.value === 'asymmetric-key'\">\n                  <app-element-single-select-v2 [data]=\"result['asymmetric-key']\"\n                                                [allowClear]=\"false\"\n                                                [edit]=\"true\"\n                                                [clearValueOnDestroy]=\"true\"></app-element-single-select-v2>\n                </div>\n              </div>\n              <div class=\"sm-col md-col-4 px2 center\">\n                <div class=\"client-logo-container\">\n                  <div class=\"client-logo-dropzone\" [ngClass]=\"{'active': fileDragActiveCounter > 0}\"\n                       (drop)=\"onFileDrop($event)\">\n                    <span class=\"label mt2 block primary\"><i\n                            class=\"icon ion-images inlineicon\"></i>Drop file here...</span>\n                  </div>\n                  <div class=\"client-logo-wrapper\">\n                    <div class=\"client-logo\">\n                      <div *ngIf=\"!result['logo']?.value\" class=\"client-logo-placeholder\">\n                        <i class=\"icon ion-cube inlineicon\"></i>\n                      </div>\n                      <ng-container *ngIf=\"result['logo']?.value\">\n                        <img class=\"client-logo-image\" [src]=\"sanitizeUrl(result['logo'].value)\" [alt]=\"clientName\"/>\n                        <div class=\"client-logo-overlay\">\n                          <div class=\"client-logo-close\" title=\"Remove Logo\" (click)=\"removeLogo()\"><i\n                                  class=\"icon ion-close\"></i>\n                          </div>\n                        </div>\n                      </ng-container>\n                    </div>\n                    <div class=\"client-logo-picker\">\n                      <input type=\"file\"\n                             #logoInput\n                             (change)=\"getFileData($event.target.files)\"\n                             [accept]=\"allowedLogoFileExtensions\"\n                             style=\"display:none\">\n                      <button class=\"button button-tiny button-primary-outline mt2\" type=\"button\"\n                              (click)=\"logoInput.click()\">Select logo\n                      </button>\n                      <label class=\"client-logo-picker-label\">{{selectedFile.name}}</label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n          <!-- CAPABILITIES -->\n          <div #capabilitiesSection id=\"capabilities\" class=\"page-well mt2 mb2\"\n               [ngClass]=\"{'collapsed': panelOptions.isCapabilitiesPanelCollapsed}\">\n            <div class=\"page-well-topbar\"\n                 (click)=\"panelOptions.isCapabilitiesPanelCollapsed = !panelOptions.isCapabilitiesPanelCollapsed\">\n              <div class=\"flex flex-end\">\n                <div class=\"flex-auto\">\n                  <span class=\"page-well-topbar-title\"><i\n                          class=\"icon ion-android-expand inlineicon\"></i>Capabilities</span>\n                </div>\n\n                <button class=\"button button-transparent button-tiny button-fold\">\n                  <i class=\"icon ion-ios-arrow-{{panelOptions.isCapabilitiesPanelCollapsed ? 'down' : 'up'}}\"></i>\n                </button>\n              </div>\n            </div>\n\n            <ng-container *ngIf=\"capabilitiesSelectedCount === 0; else selectedCapabilities\">\n              <h2 class=\"mt2 mb2 h3 flex flex-center\">\n                <i class=\"icon ion-android-expand inlineicon\"></i>Capabilities\n              </h2>\n              <div class=\"flex flex-center justify-center flex-column\">\n                <i class=\"icon ion-sad-outline icon-large icon-light\"></i>\n                <p>This Client has no capabilities and is inactive. Add capabilities to activate the client.</p>\n                <a class=\"button button-small button-success\" (click)=\"openCapabilitiesModal()\">Add capabilities</a>\n              </div>\n            </ng-container>\n            <ng-template #selectedCapabilities>\n              <div class=\"flex flex-center justify-between mb2 mt2\">\n                <h2 class=\"mt0 h3\"><i class=\"icon ion-android-expand inlineicon\"></i>Capabilities</h2>\n                <a class=\"button button-small button-success\" (click)=\"openCapabilitiesModal()\">\n                  <i class=\"icon ion-plus inlineicon\"></i>Add capabilities\n                </a>\n              </div>\n\n              <div class=\"flex flex-center flex-start flex-wrap mt3 mb3\">\n\n                <ng-container *ngFor=\"let item of capabilities | objectValues\">\n                  <div *ngIf=\"capabilities[item.key].value\" class=\"icon-grid-flex-item mb1\">\n                    <div class=\"icon-grid-flex-item-delete\" (click)=\"removeCapability(item.key)\">\n                      <i class=\"icon ion-minus\"></i>\n                    </div>\n                    <a class=\"icon-grid-item icon-grid-item--small clearfix\">\n                      <div class=\"sm-col sm-col-4 icon-grid-item-icon\">\n                        <i class=\"icon {{capabilities[item.key].icon}}\"></i>\n                      </div>\n                      <div class=\"sm-col sm-col-8 icon-grid-item-description\">\n                        <h3 class=\"h5 mt0\">{{capabilities[item.key].displayName | capitalize}}\n                          <span class=\"ml1\" [attr.data-tooltip]=\"capabilities[item.key].info\"><i\n                                  class=\"icon ion-help-circled\"></i></span>\n                        </h3>\n                        <ul class=\"m0 list-reset icon-grid-item-description-features\">\n                          <li>{{capabilities[item.key].info}}</li>\n                        </ul>\n                      </div>\n                    </a>\n                  </div>\n                </ng-container>\n              </div>\n            </ng-template>\n          </div>\n          <!-- END CAPABILITIES -->\n\n          <!-- START GENERAL OAUTH AND OPENID CONNECT SETTINGS  -->\n          <div #oAuthOpenIdSection id=\"oauth-openid\" class=\"page-well mt2 mb2\"\n               [ngClass]=\"{'collapsed': panelOptions.isGeneralSettingsPanelCollapsed}\">\n            <div class=\"page-well-topbar\"\n                 (click)=\"panelOptions.isGeneralSettingsPanelCollapsed = !panelOptions.isGeneralSettingsPanelCollapsed\">\n              <div class=\"flex flex-end\">\n                <div class=\"flex-auto\">\n                  <span class=\"page-well-topbar-title\"><i\n                          class=\"icon ion-laptop inlineicon\"></i>OAuth/OpenID Settings</span>\n                </div>\n                <div class=\"\"></div>\n                <button class=\"button button-transparent button-tiny button-fold\">\n                  <i class=\"icon ion-ios-arrow-{{panelOptions.isGeneralSettingsPanelCollapsed ? 'down' : 'up'}}\"></i>\n                </button>\n              </div>\n            </div>\n\n            <h2 class=\"mt2 mb2 h3 flex flex-center\">\n              <i class=\"icon ion-laptop inlineicon\"></i>OAuth/OpenID Settings\n            </h2>\n\n            <div class=\"clearfix mxn2 mt3 mb3\">\n\n              <div class=\"sm-col sm-col-12 px2\">\n                <h4 class=\"dashboard-main-panel-new-heading mt0 py1 mb2\">Permissions</h4>\n              </div>\n              <div class=\"sm-col sm-col-4 px2\">\n                <app-element-multi-select-v2 [data]=\"result['scope']\"\n                                             [canCreateNew]=\"true\"\n                                             [newBtnLabel]=\"'New Scope'\"\n                                             [isValueProvided]=\"true\"></app-element-multi-select-v2>\n              </div>\n              <div class=\"sm-col sm-col-4 px2\">\n                <app-element-multi-select-v2 [data]=\"result['audience']\"\n                                             [isValueProvided]=\"true\"></app-element-multi-select-v2>\n              </div>\n\n              <div class=\"sm-col sm-col-12 clearfix\"\n                   *ngIf=\"capabilities['code']?.value || capabilities['implicit']?.value || capabilities['assisted-token']?.value || capabilities['device-authorization']?.value\">\n                <div class=\"sm-col sm-col-12 px2\">\n                  <h4 class=\"dashboard-main-panel-new-heading mt3 py1 mb2\">User Consent</h4>\n                </div>\n                <div class=\"sm-col sm-col-4 px2\">\n                  <element-presence [data]=\"result['user-consent']\"\n                                    [isDynamicElement]=\"true\"\n                                    [clearValueOnDestroy]=\"true\"></element-presence>\n                </div>\n                <div class=\"sm-col sm-col-4 px2\">\n                  <element-checkbox *ngIf=\"result['user-consent']?.value\"\n                                    [data]=\"result['allow-deselection']\"\n                                    [clearValueOnDestroy]=\"true\"></element-checkbox>\n                </div>\n              </div>\n\n\n              <div class=\"sm-col sm-col-12 clearfix\">\n                <div class=\"sm-col sm-col-12 px2\">\n                  <h4 class=\"dashboard-main-panel-new-heading mt3 py1 mb2\">Token Settings</h4>\n                </div>\n                <div class=\"sm-col sm-col-12 clearfix\">\n                  <div class=\"sm-col sm-col-4 px2\">\n                    <element-number [data]=\"result['access-token-ttl']\"\n                                    [isValueProvided]=\"true\"></element-number>\n                  </div>\n                  <div class=\"sm-col sm-col-4 px2\">\n                    <element [data]=\"result['id-token-ttl']\"\n                             [isValueProvided]=\"true\"></element>\n                  </div>\n                </div>\n                <div class=\"sm-col sm-col-12 clearfix mt2\">\n                  <div class=\"sm-col sm-col-4 px2\"\n                       *ngIf=\"result['refresh-token-ttl'] &&\n                                (capabilities['code']?.value || capabilities['resource-owner-password-credentials']?.value ||\n                                  capabilities['device-authorization']?.value)\">\n                    <element-number [data]=\"result['refresh-token-ttl']\"\n                                    [canDisable]=\"true\"\n                                    [clearValueOnDestroy]=\"true\"></element-number>\n                  </div>\n                </div>\n              </div>\n\n\n            </div>\n\n          </div>\n          <!-- END <!-- GENERAL OAUTH AND OPENID CONNECT SETTINGS  -->\n\n          <!-- START CLIENT APPLICATION SETTINGS -->\n          <div #clientApplicationSettingsSection id=\"client-application-settings\" class=\"page-well mt2 mb2\"\n               [ngClass]=\"{'collapsed': panelOptions.isClientSettingsPanelCollapsed,\n                          'hide': capabilitiesSelectedCount === 0}\">\n\n            <div class=\"page-well-topbar\"\n                 (click)=\"panelOptions.isClientSettingsPanelCollapsed = !panelOptions.isClientSettingsPanelCollapsed\">\n              <div class=\"flex flex-end\">\n                <div class=\"flex-auto\">\n                  <span class=\"page-well-topbar-title\"><i\n                          class=\"icon ion-gear-b inlineicon\"></i>Client Application Settings</span>\n                </div>\n                <div class=\"\"></div>\n                <button class=\"button button-transparent button-tiny button-fold\">\n                  <i class=\"icon ion-ios-arrow-{{panelOptions.isClientSettingsPanelCollapsed ? 'down' : 'up'}}\"></i>\n                </button>\n              </div>\n            </div>\n\n            <h2 class=\"mt2 mb2 h3 flex flex-center\">\n              <i class=\"icon ion-gear-b mr1\"></i>Client Application Settings\n            </h2>\n\n\n            <div class=\"clearfix mxn2 mt3 mb3\">\n\n              <div class=\"sm-col sm-col-4 px2\" *ngIf=\"capabilities['code']?.value || capabilities['implicit']?.value\">\n                <app-element-multi-select-v2 [data]=\"result['redirect-uris']\"\n                                             [clearValueOnDestroy]=\"true\">\n                </app-element-multi-select-v2>\n              </div>\n              <div class=\"sm-col sm-col-4 px2\"\n                   *ngIf=\"capabilities['code']?.value || capabilities['implicit']?.value || capabilities['assisted-token']?.value ||\n                            capabilities['device-authorization']?.value\">\n                <app-element-multi-select-v2 [data]=\"result['allowed-origins']\"\n                                             [clearValueOnDestroy]=\"true\">\n                </app-element-multi-select-v2>\n              </div>\n\n              <div class=\"sm-col sm-col-12 clearfix\">\n                <div class=\"sm-col sm-col-12 px2\">\n                  <h4 class=\"dashboard-main-panel-new-heading mt3 py1 mb2\">\n                    <div class=\"flex flex-center justify between\">\n                      <div class=\"flex-auto\">\n                        Advanced\n                      </div>\n                      <button class=\"button button-primary-outline button-tiny mr1\"\n                              (click)=\"panelOptions.isClientAppSettingsAdvSectionVisible = !panelOptions.isClientAppSettingsAdvSectionVisible\">\n                        <i class=\"icon ion-ios-arrow-{{panelOptions.isClientAppSettingsAdvSectionVisible ? 'up' : 'down'}}\"></i>\n                      </button>\n                    </div>\n                  </h4>\n                </div>\n                <div class=\"clearfix\"\n                     [ngClass]=\"{'hide': !panelOptions.isClientAppSettingsAdvSectionVisible}\">\n                  <div class=\"sm-col sm-col-12 clearfix\">\n                    <div class=\"sm-col sm-col-4 px2\">\n                      <element-url [data]=\"result['application-url']\" [isValueProvided]=\"true\"></element-url>\n                    </div>\n                    <div class=\"sm-col sm-col-4 px2\">\n                      <element-url [data]=\"result['privacy-policy-url']\" [isValueProvided]=\"true\"></element-url>\n                    </div>\n                  </div>\n                  <div class=\"sm-col sm-col-12 clearfix mt2\">\n                    <div class=\"sm-col sm-col-4 mt2 px2\">\n                      <element-url [data]=\"result['terms-of-service-url']\" [isValueProvided]=\"true\"></element-url>\n                    </div>\n                  </div>\n                  <ng-container *ngIf=\"isRequestObjectEnabled\">\n                    <div class=\"sm-col sm-col-12 clearfix mt2\">\n                      <div class=\"sm-col sm-col-4 px2\">\n                        <element-presence [data]=\"result['request-object']\"></element-presence>\n                      </div>\n                      <div class=\"sm-col sm-col-4 px2\" *ngIf=\"result['request-object']?.value\">\n                        <element [data]=\"result['issuer']\" [clearValueOnDestroy]=\"true\"></element>\n                      </div>\n                    </div>\n                    <ng-container *ngIf=\"result['request-object']?.value\">\n                      <div class=\"sm-col sm-col-12 clearfix mt2\">\n                        <div class=\"sm-col sm-col-4 px2\">\n                          <app-element-single-select-v2 [data]=\"result['signature-verification-key']\"\n                                                        [edit]=\"true\"\n                                                        [allowClear]=\"false\"\n                                                        [clearValueOnDestroy]=\"true\"></app-element-single-select-v2>\n                        </div>\n                        <div class=\"sm-col sm-col-4 px2\">\n                          <element-presence [data]=\"result['by-reference']\"\n                                            [clearValueOnDestroy]=\"true\"></element-presence>\n                        </div>\n                      </div>\n                      <div class=\"sm-col sm-col-12 clearfix mt2\" *ngIf=\"result['by-reference']?.value\">\n                        <div class=\"sm-col sm-col-4 px2\">\n                          <app-element-single-select-v2 [data]=\"result['http-client']\"\n                                                        [edit]=\"true\"\n                                                        [clearValueOnDestroy]=\"true\"></app-element-single-select-v2>\n                        </div>\n                        <div class=\"sm-col sm-col-4 px2\">\n                          <app-element-multi-select-v2 [data]=\"result['allowed-request-url']\"\n                                                       [clearValueOnDestroy]=\"true\"></app-element-multi-select-v2>\n                        </div>\n                      </div>\n                    </ng-container>\n                  </ng-container>\n                  <div class=\"sm-col sm-col-12 clearfix mt2\" *ngIf=\"isOpenIdConnectEnabled\">\n                    <div class=\"sm-col sm-col-4 px2\">\n                      <element-presence [data]=\"result['use-pairwise-subject-identifiers']\"\n                                        [isDynamicElement]=\"true\">\n                      </element-presence>\n                    </div>\n                    <div class=\"sm-col sm-col-4 px2\" *ngIf=\"result['use-pairwise-subject-identifiers']?.value\">\n                      <element [data]=\"result['sector-identifier']\" [clearValueOnDestroy]=\"true\"></element>\n                    </div>\n                  </div>\n\n                  <ng-container *ngIf=\"capabilities['code']?.value\">\n                    <div class=\"sm-col sm-col-12 clearfix mt2\">\n                      <div class=\"sm-col sm-col-4 px2\">\n                        <element [data]=\"result['require-proof-key']\"\n                                 [clearValueOnDestroy]=\"true\"></element>\n                      </div>\n                      <div class=\"sm-col sm-col-4 px2\" *ngIf=\"result['require-proof-key']?.value\">\n                        <app-element-multi-select-v2 [data]=\"result['disallowed-proof-key-challenge-methods']\"\n                                                     [clearValueOnDestroy]=\"true\"></app-element-multi-select-v2>\n                      </div>\n                    </div>\n                  </ng-container>\n\n                  <ng-container *ngIf=\"capabilities['assertion']?.value\">\n                    <div class=\"sm-col sm-col-12 px2\">\n                      <h4 class=\"dashboard-main-panel-new-heading mt3 py1 mb2\">Assertion</h4>\n                    </div>\n                    <div class=\"sm-col sm-col-12 clearfix mt2\">\n                      <div class=\"sm-col sm-col-4 px2\">\n                        <element [data]=\"result['trust'].leafs['issuer']\" [clearValueOnDestroy]=\"true\"></element>\n                      </div>\n                      <div class=\"sm-col sm-col-4 px2\">\n                        <app-element-single-select-v2 [data]=\"result['asymmetric-signing-key']\"\n                                                      [edit]=\"true\"\n                                                      [clearValueOnDestroy]=\"true\"></app-element-single-select-v2>\n                      </div>\n                    </div>\n                    <div class=\"sm-col sm-col-12 clearfix mt2\">\n                      <div class=\"sm-col sm-col-4 px2\">\n                        <element-checkbox [data]=\"result['allow-reuse']\"\n                                          [clearValueOnDestroy]=\"true\"></element-checkbox>\n                      </div>\n                    </div>\n                  </ng-container>\n\n                  <ng-container *ngIf=\"isTemplatizedDCREnabled\">\n                    <div [ngClass]=\"{'hide': !isRequiredDCRCapabilitiesSelected}\">\n                      <div class=\"sm-col sm-col-12 px2\">\n                        <h4 class=\"dashboard-main-panel-new-heading mt3 py1 mb2\">Dynamic Client Registration</h4>\n                      </div>\n                      <div class=\"sm-col sm-col-12 clearfix\">\n                        <div class=\"sm-col sm-col-4 px2\">\n                          <element-presence [data]=\"result['dynamic-client-registration-template']\"\n                                            [isDynamicElement]=\"true\"\n                                            [clearValueOnDestroy]=\"true\"\n                                            (valueChanged)=\"setIsClientAuthenticationVisible(); onDCRTemplateChanged($event)\">\n                          </element-presence>\n                        </div>\n                        <div class=\"sm-col sm-col-4 px2\" *ngIf=\"result['dynamic-client-registration-template']?.value\">\n                          <app-element-single-select-v2 [data]=\"result['authentication-method']\"\n                                                        [canUpdate]=\"false\"\n                                                        [allowClear]=\"false\"\n                                                        [edit]=\"true\"\n                                                        [clearValueOnDestroy]=\"true\">\n                          </app-element-single-select-v2>\n                        </div>\n                      </div>\n                      <div class=\"sm-col sm-col-12 clearfix mt2\" *ngIf=\"result['authentication-method']?.value\">\n                        <div class=\"sm-col sm-col-4 px2\">\n                          <app-element-multi-select-v2\n                                  *ngIf=\"result['authentication-method'].value === 'users-must-authenticate'\"\n                                  [data]=\"result['authenticate-user-by']\"\n                                  [clearValueOnDestroy]=\"true\"></app-element-multi-select-v2>\n                          <app-element-multi-select-v2\n                                  *ngIf=\"result['authentication-method'].value === 'clients-must-authenticate'\"\n                                  [data]=\"result['authenticate-client-by']\"\n                                  [clearValueOnDestroy]=\"true\"></app-element-multi-select-v2>\n                        </div>\n                      </div>\n                    </div>\n                  </ng-container>\n\n                </div>\n              </div>\n\n\n            </div>\n\n          </div>\n          <!-- END CLIENT APPLICATION SETTINGS -->\n\n          <!-- START USER AUTHENTICATION  -->\n          <div #userAuthenticationSection>\n            <!-- creating extra div so that userAuthenticationSection reference is always defined and is not hidden by *ngIf -->\n            <div *ngIf=\"showUserAuthenticator\" id=\"user-authentication\" class=\"page-well mt2 mb2\"\n                 [ngClass]=\"{'collapsed': panelOptions.isUserAuthPanelCollapsed}\">\n\n              <div class=\"page-well-topbar\"\n                   (click)=\"panelOptions.isUserAuthPanelCollapsed = !panelOptions.isUserAuthPanelCollapsed\">\n                <div class=\"flex flex-end\">\n                  <div class=\"flex-auto\">\n                  <span class=\"page-well-topbar-title\"><i\n                          class=\"icon ion-person-stalker inlineicon\"></i>User Authentication</span>\n                  </div>\n                  <div class=\"\"></div>\n                  <button class=\"button button-transparent button-tiny button-fold\">\n                    <i class=\"icon ion-ios-arrow-{{panelOptions.isUserAuthPanelCollapsed ? 'down' : 'up'}}\"></i>\n                  </button>\n                </div>\n              </div>\n\n              <div class=\"flex flex-center justify-between mb2 mt2\">\n                <h2 class=\"mt0 h3\"><i class=\"icon ion-person-stalker mr1\"></i>User Authentication</h2>\n\n                <a class=\"button button-small button-success\"\n                   *ngIf=\"result['allowed-authenticators']?.value?.length !== 0\" (click)=\"openAuthenticatorsModal()\"><i\n                        class=\"icon ion-plus inlineicon\"></i>Add authenticators</a>\n              </div>\n              <div *ngIf=\"result['allowed-authenticators']?.value?.length === 0\">\n\n                <div class=\"flex flex-center justify-center flex-column\">\n                  <i class=\"icon ion-sad-outline icon-large icon-light\"></i>\n                  <p>This client allows any authenticator to be used.</p>\n                  <a class=\"button button-small button-success\" (click)=\"openAuthenticatorsModal()\">Add\n                    authenticators</a>\n                </div>\n\n              </div>\n              <div class=\"flex flex-center flex-start flex-wrap\">\n                <div class=\"icon-grid-flex-item mb1\" *ngFor=\"let item of result['allowed-authenticators']?.value\">\n                  <div class=\"icon-grid-flex-item-delete\" (click)=\"removeAllowedAuthenticator(item)\">\n                    <i class=\"icon ion-minus\"></i></div>\n                  <a class=\"icon-grid-item icon-grid-item--tiny clearfix\">\n                    <div class=\"sm-col sm-col-4 icon-grid-item-icon\">\n                      <i class=\"icon {{authenticators[item]?.icon}}\"></i>\n                    </div>\n                    <div class=\"sm-col sm-col-8 icon-grid-item-description\">\n                      <h3 class=\"h5 m0\">{{item}}</h3>\n                    </div>\n                  </a>\n                </div>\n              </div>\n\n              <h4 class=\"dashboard-main-panel-new-heading mt3 py1 mb2\">Authentication Settings</h4>\n              <div class=\"clearfix mxn2 flex flex-center\">\n                <div class=\"sm-col sm-col-4 px2\">\n                  <element-number [data]=\"result['freshness']\" [clearValueOnDestroy]=\"true\"></element-number>\n                </div>\n                <div class=\"sm-col sm-col-4 px2\">\n                  <element-checkbox [data]=\"result['force-authn']\" [clearValueOnDestroy]=\"true\"\n                                    [allowHyphensInLabel]=\"true\"></element-checkbox>\n                </div>\n\n              </div>\n\n              <div class=\"clearfix\">\n                <div class=\"sm-col sm-col-12\">\n                  <h4 class=\"dashboard-main-panel-new-heading py1 mb2\">\n                    <div class=\"flex flex-center justify between\">\n                      <div class=\"flex-auto\">\n                        Advanced\n                      </div>\n                      <button class=\"button button-primary-outline button-tiny mr1\"\n                              (click)=\"panelOptions.isUserAuthAdvSectionVisible = !panelOptions.isUserAuthAdvSectionVisible\">\n                        <i class=\"icon ion-ios-arrow-{{panelOptions.isUserAuthAdvSectionVisible ? 'up' : 'down'}}\"></i>\n                      </button>\n                    </div>\n                  </h4>\n                </div>\n              </div>\n\n              <div class=\"clearfix\" [ngClass]=\"{'hide': !panelOptions.isUserAuthAdvSectionVisible}\">\n                <div class=\"clearfix mxn2 mb3\">\n\n                  <div class=\"sm-col sm-col-4 px2\">\n                    <app-element-multi-select-v2 [data]=\"result['authenticator-filters']\"\n                                                 [clearValueOnDestroy]=\"true\"></app-element-multi-select-v2>\n                  </div>\n                  <div class=\"sm-col sm-col-4 px2\">\n                    <app-element-multi-select-v2 [data]=\"result['required-claims']\"\n                                                 [clearValueOnDestroy]=\"true\"></app-element-multi-select-v2>\n                  </div>\n                </div>\n                <div class=\"clearfix mxn2\">\n                  <div class=\"sm-col sm-col-4 px2\">\n                    <element-input-single-select [data]=\"result['template-area']\"\n                                                 [clearValueOnDestroy]=\"true\"></element-input-single-select>\n                  </div>\n                  <div class=\"sm-col sm-col-4 px2\">\n                    <element [data]=\"result['context-info']\" [clearValueOnDestroy]=\"true\"></element>\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n          </div>\n          <!-- END USER AUTHENTICATION -->\n\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n\n<!-- START DUPLICATE CLIENT MODAL -->\n<app-modal [isHidden]=\"isDuplicateClientModalHidden\"\n           [title]=\"'Duplicate Client'\"\n           [toolbarIconClass]=\"'ion-ios-browsers'\"\n           (close)=\"closeDuplicateClientModal()\">\n\n  <ng-template #content>\n    <div class=\"main-form\" align=\"left\">\n      <form ngNativeValidate name=\"duplicateClientForm\" id=\"duplicateClientForm\" (submit)=\"duplicateClient()\">\n        <div class=\"\">\n          <label>Name</label>\n          <input type=\"text\"\n                 class=\"field col-12\"\n                 [(ngModel)]=\"duplicateClientName\"\n                 id=\"duplicateClientName\"\n                 name=\"duplicateClientName\"\n                 focusElement\n                 required>\n        </div>\n        <div class=\"col col-12\">\n          <element-error [error]=\"errorMessage\"></element-error>\n        </div>\n        <div class=\"mt2\">\n          <button id=\"createApp\" type=\"submit\" class=\"button button-success button-small\">Create</button>\n          <button type=\"reset\" class=\"button button-light-grey button-small\" (click)=\"closeDuplicateClientModal()\">\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  </ng-template>\n</app-modal>\n<!-- END DUPLICATE CLIENT MODAL -->\n\n<!-- START CAPABILITIES MODAL -->\n<app-modal [isHidden]=\"isCapabilitiesModalHidden\"\n           [title]=\"capabilityModalTitles[currentCapabilityModalStep - 1]\"\n           [toolbarIconClass]=\"'ion-android-expand'\"\n           (close)=\"closeCapabilitiesModal()\">\n\n  <ng-template #content>\n    <form ngNativeValidate name=\"capabilitiesModalForm\" id=\"capabilitiesModalForm\">\n      <ng-container [ngSwitch]=\"currentCapabilityModalStep\">\n        <ng-container *ngSwitchCase=\"1\">\n          <p>Select capabilities</p>\n\n          <button type=\"button\" class=\"button button-primary-outline button-tiny\"\n                  (click)=\"updateAllCapabilities('isSelected', true)\">Select All\n          </button>\n          <button type=\"button\" class=\"button button-primary-outline button-tiny\"\n                  (click)=\"updateAllCapabilities('isSelected', false)\">Deselect All\n          </button>\n\n          <div class=\"mt2 mxn1\">\n            <div *ngFor=\"let item of capabilities | objectValues\"\n                 (click)=\"capabilities[item.key].isSelected = !capabilities[item.key].isSelected\"\n                 class=\"sm-col sm-col-4 createaccountlink-item px1 mb2\">\n        <span class=\"createaccountlink-item-selector\"\n              [ngClass]=\"{'active' : capabilities[item.key].isSelected}\">\n        </span>\n              <a class=\"icon-grid-item icon-grid-item--tiny clearfix\">\n                <div class=\"sm-col sm-col-4 icon-grid-item-icon\">\n                  <i class=\"icon {{capabilities[item.key].icon || 'ion-cube'}}\"></i>\n                </div>\n                <div class=\"sm-col sm-col-8 icon-grid-item-description\">\n                  <h3 class=\"h5 mt0\">{{capabilities[item.key].displayName | capitalize}}</h3>\n                  <ul class=\"m0 list-reset icon-grid-item-description-features\">\n                    <li>{{capabilities[item.key].info}}</li>\n                  </ul>\n                </div>\n              </a>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"2\">\n          <div class=\"sm-col sm-col-12 mt2\"\n               *ngIf=\"capabilityModalResult['redirect-uris']\">\n            <div class=\"sm-col sm-col-6\">\n              <app-element-multi-select-v2 [data]=\"capabilityModalResult['redirect-uris']\"\n                                           [canUpdate]=\"false\"></app-element-multi-select-v2>\n            </div>\n          </div>\n          <div class=\"sm-col sm-col-12 mt2\"\n               *ngIf=\"capabilityModalResult['allowed-origins']\">\n            <div class=\"sm-col sm-col-6\">\n              <app-element-multi-select-v2 [data]=\"capabilityModalResult['allowed-origins']\"\n                                           [canUpdate]=\"false\"></app-element-multi-select-v2>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"3\">\n          <div class=\"sm-col sm-col-12 mt2\">\n            <div class=\"sm-col sm-col-6\">\n              <app-element-single-select-v2 [data]=\"capabilityModalResult['verifier']\"\n                                            [edit]=\"true\"\n                                            [allowClear]=\"false\"\n                                            [isValueProvided]=\"true\"\n                                            [isChoice]=\"true\"\n                                            [canUpdate]=\"false\"></app-element-single-select-v2>\n            </div>\n          </div>\n          <div class=\"sm-col sm-col-12 mt2\">\n            <div class=\"sm-col sm-col-6\" *ngIf=\"capabilityModalResult['verifier'].value === 'secret'\">\n              <element-password [data]=\"capabilityModalResult['secret']\"\n                                [numberOfCharacters]=\"64\"\n                                [canUpdate]=\"false\"></element-password>\n            </div>\n            <div class=\"sm-col sm-col-6\" *ngIf=\"capabilityModalResult['verifier'].value === 'asymmetric-key'\">\n              <app-element-single-select-v2 [data]=\"capabilityModalResult['asymmetric-key']\"\n                                            [allowClear]=\"false\"\n                                            [edit]=\"true\"\n                                            [canUpdate]=\"false\"></app-element-single-select-v2>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"4\">\n          <ng-container *ngTemplateOutlet=\"allowedAuthenticators\"></ng-container>\n        </ng-container>\n      </ng-container>\n    </form>\n\n    <div class=\"col col-12 mt2\">\n      <element-error [error]=\"capabilityErrorMessage\"></element-error>\n    </div>\n    <div class=\"col col-12 mt2\">\n      <button type=\"button\" class=\"button button-small button-success right\"\n              (click)=\"onNext()\">{{currentCapabilityModalStep < 4 ? 'Next' : 'Done'}}\n      </button>\n      <button *ngIf=\"currentCapabilityModalStep > 1\" type=\"button\"\n              class=\"button button-small button-light-grey right mr1\" (click)=\"onBack()\">Back\n      </button>\n    </div>\n  </ng-template>\n</app-modal>\n<!-- END CAPABILITIES MODAL -->\n\n<!-- START AUTHENTICATORS MODAL -->\n<app-modal [isHidden]=\"isAuthenticatorsModalHidden\"\n           [title]=\"'Allowed Authenticators'\"\n           [toolbarIconClass]=\"'ion-person'\"\n           (close)=\"closeAuthenticatorsModal()\">\n\n  <ng-template #content>\n\n    <ng-container *ngTemplateOutlet=\"allowedAuthenticators\"></ng-container>\n\n    <div class=\"col col-12 mt2\">\n      <element-error [error]=\"authenticatorsErrorMessage\"></element-error>\n    </div>\n    <div class=\"col col-12 mt2\">\n      <button type=\"button\" class=\"button button-small button-success right\"\n              (click)=\"updateAuthenticatorsValue()\">Done\n      </button>\n    </div>\n  </ng-template>\n</app-modal>\n<!-- END AUTHENTICATORS MODAL -->\n\n<ng-template #allowedAuthenticators>\n  <p>Select allowed authenticators</p>\n\n  <button type=\"button\" class=\"button button-primary-outline button-tiny\"\n          (click)=\"updateAllAuthenticators('isSelected', true)\">Select All\n  </button>\n  <button type=\"button\" class=\"button button-primary-outline button-tiny\"\n          (click)=\"updateAllAuthenticators('isSelected', false)\">Deselect All\n  </button>\n\n  <div class=\"mt2 mxn1\">\n    <div *ngFor=\"let item of authenticators | objectValues\"\n         (click)=\"authenticators[item.key].isSelected = !authenticators[item.key].isSelected\"\n         class=\"sm-col sm-col-3 createaccountlink-item px1 mb2\">\n        <span class=\"createaccountlink-item-selector\"\n              [ngClass]=\"{'active' : authenticators[item.key].isSelected}\">\n        </span>\n      <a class=\"icon-grid-item icon-grid-item--tiny clearfix\">\n        <div class=\"sm-col sm-col-4 icon-grid-item-icon\">\n          <i class=\"icon {{authenticators[item.key].icon || 'ion-cube'}}\"></i>\n        </div>\n        <div class=\"sm-col sm-col-8 icon-grid-item-description\">\n          <h3 class=\"h5 mt0\">{{authenticators[item.key].id}}</h3>\n        </div>\n      </a>\n    </div>\n  </div>\n</ng-template>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/app/oauth/components/apps/new-client/client.component.html	(date 1538117905000)
+++ src/app/oauth/components/apps/new-client/client.component.html	(date 1538131773000)
@@ -62,7 +62,9 @@
           <div class="flex-auto">
             <h1 class="mt0 flex flex-center">{{clientName}}
               <span *ngIf="result['dynamic-client-registration-template']?.value"
-                    class="block button button-tiny button-warning-outline ml2">Template Client</span>
+                    class="block button button-tiny button-warning-outline ml2"
+                    (click)="panelOptions.isClientAppSettingsAdvSectionVisible = true; scrollToAnchor(DCRSettings, activeNavItem)">
+                Template Client</span>
             </h1>
           </div>
           <div class="">
@@ -452,43 +454,45 @@
                       </div>
                     </div>
                   </ng-container>
-
-                  <ng-container *ngIf="isTemplatizedDCREnabled">
-                    <div [ngClass]="{'hide': !isRequiredDCRCapabilitiesSelected}">
-                      <div class="sm-col sm-col-12 px2">
-                        <h4 class="dashboard-main-panel-new-heading mt3 py1 mb2">Dynamic Client Registration</h4>
-                      </div>
-                      <div class="sm-col sm-col-12 clearfix">
-                        <div class="sm-col sm-col-4 px2">
-                          <element-presence [data]="result['dynamic-client-registration-template']"
-                                            [isDynamicElement]="true"
-                                            [clearValueOnDestroy]="true"
-                                            (valueChanged)="setIsClientAuthenticationVisible(); onDCRTemplateChanged($event)">
-                          </element-presence>
-                        </div>
-                        <div class="sm-col sm-col-4 px2" *ngIf="result['dynamic-client-registration-template']?.value">
-                          <app-element-single-select-v2 [data]="result['authentication-method']"
-                                                        [canUpdate]="false"
-                                                        [allowClear]="false"
-                                                        [edit]="true"
-                                                        [clearValueOnDestroy]="true">
-                          </app-element-single-select-v2>
-                        </div>
-                      </div>
-                      <div class="sm-col sm-col-12 clearfix mt2" *ngIf="result['authentication-method']?.value">
-                        <div class="sm-col sm-col-4 px2">
-                          <app-element-multi-select-v2
-                                  *ngIf="result['authentication-method'].value === 'users-must-authenticate'"
-                                  [data]="result['authenticate-user-by']"
-                                  [clearValueOnDestroy]="true"></app-element-multi-select-v2>
-                          <app-element-multi-select-v2
-                                  *ngIf="result['authentication-method'].value === 'clients-must-authenticate'"
-                                  [data]="result['authenticate-client-by']"
-                                  [clearValueOnDestroy]="true"></app-element-multi-select-v2>
-                        </div>
-                      </div>
-                    </div>
-                  </ng-container>
+                  <div #DCRSettings>
+                    <ng-container *ngIf="isTemplatizedDCREnabled">
+                      <div [ngClass]="{'hide': !isRequiredDCRCapabilitiesSelected}">
+                        <div class="sm-col sm-col-12 px2">
+                          <h4 class="dashboard-main-panel-new-heading mt3 py1 mb2">Dynamic Client Registration</h4>
+                        </div>
+                        <div class="sm-col sm-col-12 clearfix">
+                          <div class="sm-col sm-col-4 px2">
+                            <element-presence [data]="result['dynamic-client-registration-template']"
+                                              [isDynamicElement]="true"
+                                              [clearValueOnDestroy]="true"
+                                              (valueChanged)="setIsClientAuthenticationVisible(); onDCRTemplateChanged($event)">
+                            </element-presence>
+                          </div>
+                          <div class="sm-col sm-col-4 px2"
+                               *ngIf="result['dynamic-client-registration-template']?.value">
+                            <app-element-single-select-v2 [data]="result['authentication-method']"
+                                                          [canUpdate]="false"
+                                                          [allowClear]="false"
+                                                          [edit]="true"
+                                                          [clearValueOnDestroy]="true">
+                            </app-element-single-select-v2>
+                          </div>
+                        </div>
+                        <div class="sm-col sm-col-12 clearfix mt2" *ngIf="result['authentication-method']?.value">
+                          <div class="sm-col sm-col-4 px2">
+                            <app-element-multi-select-v2
+                                    *ngIf="result['authentication-method'].value === 'users-must-authenticate'"
+                                    [data]="result['authenticate-user-by']"
+                                    [clearValueOnDestroy]="true"></app-element-multi-select-v2>
+                            <app-element-multi-select-v2
+                                    *ngIf="result['authentication-method'].value === 'clients-must-authenticate'"
+                                    [data]="result['authenticate-client-by']"
+                                    [clearValueOnDestroy]="true"></app-element-multi-select-v2>
+                          </div>
+                        </div>
+                      </div>
+                    </ng-container>
+                  </div>
 
                 </div>
               </div>
